seperate reading and writing to threads (!)
error handling
keep on dividing code to logic modules